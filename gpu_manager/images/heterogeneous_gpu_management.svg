<svg width="1000" height="700" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="unifiedGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#673AB7;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#9575CD;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="abstractionGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#3F51B5;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7986CB;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="adapterGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#FF9800;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#FFB74D;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="nvidiaGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#4CAF50;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#81C784;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="amdGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#F44336;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#EF5350;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="intelGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#2196F3;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#64B5F6;stop-opacity:1" />
    </linearGradient>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>
  
  <!-- 标题 -->
  <text x="500" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#333">异构GPU统一管理架构</text>
  
  <!-- 统一管理层 -->
  <g>
    <rect x="100" y="60" width="800" height="80" fill="url(#unifiedGradient)" stroke="#673AB7" stroke-width="2" rx="8"/>
    <text x="500" y="85" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="white">统一管理层 (Unified Management Layer)</text>
    
    <rect x="120" y="105" width="120" height="25" fill="#7E57C2" stroke="#673AB7" rx="4"/>
    <text x="180" y="122" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">资源发现</text>
    
    <rect x="260" y="105" width="120" height="25" fill="#7E57C2" stroke="#673AB7" rx="4"/>
    <text x="320" y="122" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">调度策略</text>
    
    <rect x="400" y="105" width="120" height="25" fill="#7E57C2" stroke="#673AB7" rx="4"/>
    <text x="460" y="122" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">负载均衡</text>
    
    <rect x="540" y="105" width="120" height="25" fill="#7E57C2" stroke="#673AB7" rx="4"/>
    <text x="600" y="122" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">监控管理</text>
    
    <rect x="680" y="105" width="120" height="25" fill="#7E57C2" stroke="#673AB7" rx="4"/>
    <text x="740" y="122" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">故障恢复</text>
  </g>
  
  <!-- 统一抽象层 -->
  <g>
    <rect x="100" y="160" width="800" height="80" fill="url(#abstractionGradient)" stroke="#3F51B5" stroke-width="2" rx="8"/>
    <text x="500" y="185" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="white">统一抽象层 (Unified Abstraction Layer)</text>
    
    <rect x="120" y="205" width="100" height="25" fill="#5C6BC0" stroke="#3F51B5" rx="4"/>
    <text x="170" y="222" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">统一API</text>
    
    <rect x="240" y="205" width="100" height="25" fill="#5C6BC0" stroke="#3F51B5" rx="4"/>
    <text x="290" y="222" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">设备抽象</text>
    
    <rect x="360" y="205" width="100" height="25" fill="#5C6BC0" stroke="#3F51B5" rx="4"/>
    <text x="410" y="222" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">内存管理</text>
    
    <rect x="480" y="205" width="100" height="25" fill="#5C6BC0" stroke="#3F51B5" rx="4"/>
    <text x="530" y="222" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">任务调度</text>
    
    <rect x="600" y="205" width="100" height="25" fill="#5C6BC0" stroke="#3F51B5" rx="4"/>
    <text x="650" y="222" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">性能监控</text>
    
    <rect x="720" y="205" width="100" height="25" fill="#5C6BC0" stroke="#3F51B5" rx="4"/>
    <text x="770" y="222" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">错误处理</text>
  </g>
  
  <!-- 适配器层 -->
  <g>
    <rect x="100" y="260" width="800" height="80" fill="url(#adapterGradient)" stroke="#FF9800" stroke-width="2" rx="8"/>
    <text x="500" y="285" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="white">厂商适配器层 (Vendor Adapter Layer)</text>
    
    <rect x="120" y="305" width="100" height="25" fill="#FFA726" stroke="#FF9800" rx="4"/>
    <text x="170" y="322" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">API转换</text>
    
    <rect x="240" y="305" width="100" height="25" fill="#FFA726" stroke="#FF9800" rx="4"/>
    <text x="290" y="322" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">特性映射</text>
    
    <rect x="360" y="305" width="100" height="25" fill="#FFA726" stroke="#FF9800" rx="4"/>
    <text x="410" y="322" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">性能优化</text>
    
    <rect x="480" y="305" width="100" height="25" fill="#FFA726" stroke="#FF9800" rx="4"/>
    <text x="530" y="322" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">兼容性处理</text>
    
    <rect x="600" y="305" width="100" height="25" fill="#FFA726" stroke="#FF9800" rx="4"/>
    <text x="650" y="322" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">驱动接口</text>
    
    <rect x="720" y="305" width="100" height="25" fill="#FFA726" stroke="#FF9800" rx="4"/>
    <text x="770" y="322" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">状态同步</text>
  </g>
  
  <!-- 厂商特定层 -->
  <g>
    <!-- NVIDIA GPU -->
    <rect x="100" y="360" width="250" height="120" fill="url(#nvidiaGradient)" stroke="#4CAF50" stroke-width="2" rx="8"/>
    <text x="225" y="385" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">NVIDIA GPU</text>
    
    <rect x="120" y="400" width="80" height="20" fill="#66BB6A" stroke="#4CAF50" rx="3"/>
    <text x="160" y="413" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">CUDA Runtime</text>
    
    <rect x="210" y="400" width="80" height="20" fill="#66BB6A" stroke="#4CAF50" rx="3"/>
    <text x="250" y="413" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">cuDNN</text>
    
    <rect x="300" y="400" width="40" height="20" fill="#66BB6A" stroke="#4CAF50" rx="3"/>
    <text x="320" y="413" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">NCCL</text>
    
    <rect x="120" y="430" width="80" height="20" fill="#66BB6A" stroke="#4CAF50" rx="3"/>
    <text x="160" y="443" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">NVIDIA-ML</text>
    
    <rect x="210" y="430" width="80" height="20" fill="#66BB6A" stroke="#4CAF50" rx="3"/>
    <text x="250" y="443" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">MIG支持</text>
    
    <rect x="300" y="430" width="40" height="20" fill="#66BB6A" stroke="#4CAF50" rx="3"/>
    <text x="320" y="443" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">NVLink</text>
    
    <rect x="120" y="460" width="220" height="15" fill="#4CAF50" stroke="#388E3C" rx="3"/>
    <text x="230" y="470" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">GeForce RTX/Tesla/A100/H100系列</text>
  </g>
  
  <!-- AMD GPU -->
  <g>
    <rect x="375" y="360" width="250" height="120" fill="url(#amdGradient)" stroke="#F44336" stroke-width="2" rx="8"/>
    <text x="500" y="385" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">AMD GPU</text>
    
    <rect x="395" y="400" width="80" height="20" fill="#EF5350" stroke="#F44336" rx="3"/>
    <text x="435" y="413" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">ROCm Runtime</text>
    
    <rect x="485" y="400" width="80" height="20" fill="#EF5350" stroke="#F44336" rx="3"/>
    <text x="525" y="413" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">MIOpen</text>
    
    <rect x="575" y="400" width="40" height="20" fill="#EF5350" stroke="#F44336" rx="3"/>
    <text x="595" y="413" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">RCCL</text>
    
    <rect x="395" y="430" width="80" height="20" fill="#EF5350" stroke="#F44336" rx="3"/>
    <text x="435" y="443" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">ROCm-SMI</text>
    
    <rect x="485" y="430" width="80" height="20" fill="#EF5350" stroke="#F44336" rx="3"/>
    <text x="525" y="443" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">SR-IOV</text>
    
    <rect x="575" y="430" width="40" height="20" fill="#EF5350" stroke="#F44336" rx="3"/>
    <text x="595" y="443" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Infinity</text>
    
    <rect x="395" y="460" width="220" height="15" fill="#F44336" stroke="#D32F2F" rx="3"/>
    <text x="505" y="470" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Radeon Instinct/MI系列</text>
  </g>
  
  <!-- Intel GPU -->
  <g>
    <rect x="650" y="360" width="250" height="120" fill="url(#intelGradient)" stroke="#2196F3" stroke-width="2" rx="8"/>
    <text x="775" y="385" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">Intel GPU</text>
    
    <rect x="670" y="400" width="80" height="20" fill="#42A5F5" stroke="#2196F3" rx="3"/>
    <text x="710" y="413" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">oneAPI Runtime</text>
    
    <rect x="760" y="400" width="80" height="20" fill="#42A5F5" stroke="#2196F3" rx="3"/>
    <text x="800" y="413" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">oneDNN</text>
    
    <rect x="850" y="400" width="40" height="20" fill="#42A5F5" stroke="#2196F3" rx="3"/>
    <text x="870" y="413" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">oneCCL</text>
    
    <rect x="670" y="430" width="80" height="20" fill="#42A5F5" stroke="#2196F3" rx="3"/>
    <text x="710" y="443" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Level Zero</text>
    
    <rect x="760" y="430" width="80" height="20" fill="#42A5F5" stroke="#2196F3" rx="3"/>
    <text x="800" y="443" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">GVT-g</text>
    
    <rect x="850" y="430" width="40" height="20" fill="#42A5F5" stroke="#2196F3" rx="3"/>
    <text x="870" y="443" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Xe Link</text>
    
    <rect x="670" y="460" width="220" height="15" fill="#2196F3" stroke="#1976D2" rx="3"/>
    <text x="780" y="470" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Arc/Ponte Vecchio系列</text>
  </g>
  
  <!-- 数据流箭头 -->
  <g>
    <line x1="500" y1="140" x2="500" y2="160" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="500" y1="240" x2="500" y2="260" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    
    <line x1="225" y1="340" x2="225" y2="360" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="500" y1="340" x2="500" y2="360" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="775" y1="340" x2="775" y2="360" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  </g>
  
  <!-- 统一接口示例 -->
  <g>
    <text x="500" y="520" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#333">统一接口示例</text>
    
    <rect x="100" y="540" width="800" height="120" fill="#F5F5F5" stroke="#333" stroke-width="1" rx="5"/>
    
    <!-- 代码示例 -->
    <text x="120" y="560" font-family="Courier New, monospace" font-size="12" font-weight="bold" fill="#333">// 统一GPU设备管理接口</text>
    <text x="120" y="580" font-family="Courier New, monospace" font-size="11" fill="#333">UnifiedGPUDevice* device = gpu_manager.getDevice(GPU_TYPE_ANY);</text>
    <text x="120" y="595" font-family="Courier New, monospace" font-size="11" fill="#333">device->allocateMemory(size, &amp;gpu_ptr);</text>
    <text x="120" y="610" font-family="Courier New, monospace" font-size="11" fill="#333">device->launchKernel(kernel_func, grid_size, block_size);</text>
    <text x="120" y="625" font-family="Courier New, monospace" font-size="11" fill="#333">device->synchronize();</text>
    <text x="120" y="640" font-family="Courier New, monospace" font-size="11" fill="#333">device->freeMemory(gpu_ptr);</text>
  </g>
  
  <!-- 关键特性 -->
  <g>
    <text x="500" y="690" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333">关键特性：透明性 • 可移植性 • 高性能 • 易扩展</text>
  </g>
</svg>